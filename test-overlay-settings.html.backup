<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>오버레이 설정 테스트</title>
<style>
body { font-family: Arial, sans-serif; padding: 20px; }
.setting-group { margin-bottom: 20px; padding: 15px; border: 1px solid #ddd; border-radius: 8px; }
.form-label { display: block; margin-bottom: 8px; font-weight: bold; }
.form-input { width: 100%; padding: 8px; }
.value-display { color: #007bff; font-weight: bold; }
</style>
</head>
<body>

<h1>🏆 스트리머 테이블 오버레이 설정 테스트</h1>

<div class="setting-group">
    <h3>배경 투명도</h3>
    <label class="form-label">배경 투명도: <span id="table-opacity-value" class="value-display">85%</span></label>
    <input type="range" id="table-opacity-range" min="0" max="100" value="85" 
           onInput="updateTableOpacity(this.value)" class="form-input">
</div>

<div class="setting-group">
    <h3>숫자 크기 설정</h3>
    <label class="form-label">숫자 크기: <span id="table-number-size-value" class="value-display">16px</span></label>
    <input type="range" id="table-number-size-range" min="12" max="60" value="16" 
           onInput="updateTableNumberSize(this.value)" class="form-input">
</div>

<div class="setting-group">
    <h3>테스트 미리보기</h3>
    <div id="preview" style="font-size: 16px; border: 1px solid #ccc; padding: 20px; background: rgba(0,0,0,0.85); color: white;">
        <div class="number-data">123,456원</div>
        <div class="number-data">987,654원</div>
        <div class="number-data">1,111,111원</div>
    </div>
</div>

<script>
function updateTableOpacity(value) {
    document.getElementById('table-opacity-value').textContent = value + '%';
    localStorage.setItem('table-opacity', value);
    console.log('투명도 설정:', value + '%');
}

function updateTableNumberSize(value) {
    document.getElementById('table-number-size-value').textContent = value + 'px';
    localStorage.setItem('table-number-size', value);
    
    // 미리보기에 바로 적용
    const preview = document.getElementById('preview');
    const numberElements = preview.querySelectorAll('.number-data');
    numberElements.forEach(el => {
        el.style.fontSize = value + 'px';
    });
    
    console.log('숫자 크기 설정:', value + 'px');
}

// 초기 설정 로드
window.onload = function() {
    const savedOpacity = localStorage.getItem('table-opacity') || '85';
    const savedNumberSize = localStorage.getItem('table-number-size') || '16';
    
    document.getElementById('table-opacity-range').value = savedOpacity;
    document.getElementById('table-number-size-range').value = savedNumberSize;
    
    updateTableOpacity(savedOpacity);
    updateTableNumberSize(savedNumberSize);
    
    console.log('설정 로드 완료 - 투명도:', savedOpacity + '%, 숫자크기:', savedNumberSize + 'px');
}
</script>

</body>
</html>